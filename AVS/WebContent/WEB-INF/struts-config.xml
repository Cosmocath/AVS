<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC 
"-//Apache Software Foundation//DTD Struts Configuration 1.3//EN" 
"http://jakarta.apache.org/struts/dtds/struts-config_1_3.dtd">

<struts-config>

	<form-beans type="org.apache.struts.action.ActionFormBean">
		<form-bean name="connecterUserForm"
			type="presentation.users.form.ConnecterUserForm" />
		<form-bean name="userForm"
			type="presentation.users.form.UserForm" />
		<form-bean name="editerUserForm"
			type="presentation.users.form.EditerUserForm" />
		<form-bean name="produitForm"
			type="presentation.produit.form.ProduitForm" />
		<form-bean name="panierForm"
			type="presentation.panier.form.PanierForm" />
	</form-beans>

	<action-mappings
		type="org.apache.struts.action.ActionMapping">

		<!-- Action d'affichage des CGU -->

		<action path="/voirCGU" scope="request"
			type="presentation.cgu.action.VoirCGUAction">
			<forward name="success" path="cgu" redirect="false"></forward>
		</action>

		<action path="/afficherCGU" scope="request"
			type="presentation.cgu.action.AfficherCGUAction">
		</action>

		<!-- Le language -->

		<action path="/changerLangue" scope="request"
			type="presentation.i18n.action.ChangerLangueAction">
		</action>

		<!-- La connection/déconnection d'un utilisateur -->

		<action path="/connecterUser" scope="request"
			input="voirConnecterUser" parameter="" name="connecterUserForm"
			type="presentation.users.action.ConnecterUserAction">
			<forward name="success" path="listerProduitClient.do"
				redirect="true"></forward>
			<forward name="notSuccess" path="voirConnecterUser"
				redirect="false" />
		</action>

		<action path="/voirConnecterUser" scope="request"
			type="presentation.users.action.VoirConnecterUserAction">
			<forward name="success" path="voirConnecterUser"
				redirect="false" />
		</action>

		<action path="/deconnecterUser" scope="request"
			type="presentation.users.action.DeconnecterUserAction">
			<forward name="success" path="listerProduitClient.do"
				redirect="true"></forward>
		</action>

		<!-- Action de l'équipe Produit -->

		<action path="/listerProduitClient" scope="request"
			type="presentation.produit.action.ListerProduitAction">
			<forward name="success" path="listerProduitClient"
				redirect="false"></forward>
		</action>

		<action path="/voirCreerProduit" scope="request"
			type="presentation.produit.action.VoirCreerProduitAction">
			<forward name="success" path="voirCreerProduit"
				redirect="false" />
		</action>

		<action path="/creerProduit" scope="request"
			input="creerProduit" parameter="" name="produitForm"
			type="presentation.produit.action.CreerProduitAction">
			<forward name="success" path="creerProduit" redirect="false" />
		</action>

		<action path="/listerProduitAdmin" scope="request"
			type="presentation.produit.action.ListerProduitAdminAction">
			<forward name="success" path="listerProduitAdmin"
				redirect="false"></forward>
		</action>

		<action path="/consulterProduit" scope="request"
			type="presentation.produit.action.ConsulterProduitAction">
			<forward name="success" path="consulterProduit"
				redirect="false"></forward>
		</action>

		<action path="/voirEditerProduit" scope="request"
			type="presentation.produit.action.VoirEditerProduitAction">
			<forward name="success" path="voirEditerProduit"
				redirect="false" />
		</action>

		<action path="/editerProduit" scope="request"
			input="voirEditerProduit" parameter="" name="produitForm"
			type="presentation.produit.action.EditerProduitAction">
			<forward name="success" path="/voirEditerProduit.do"
				redirect="false" />
		</action>

		<!-- Action de l'équipe User -->

		<action path="/voirEditerUser" scope="request"
			type="presentation.users.action.VoirEditerUserAction">
			<forward name="success" path="voirEditerUser"
				redirect="false" />
		</action>

		<action path="/editerUser" scope="request"
			input="voirEditerUser" parameter="" name="editerUserForm"
			type="presentation.users.action.EditerUserAction">
			<forward name="success" path="listerUser.do" redirect="true"></forward>
			<forward name="notSuccess" path="voirEditerUser"
				redirect="false" />
		</action>

		<action path="/voirCreerUser" scope="request"
			type="presentation.users.action.VoirCreerUserAction">
			<forward name="success" path="voirCreerUser" redirect="false" />
		</action>

		<action path="/creerUser" scope="request" input="voirCreerUser"
			name="userForm" type="presentation.users.action.CreerUserAction">
			<forward name="success" path="listerProduitClient.do"
				redirect="true"></forward>
			<forward name="notSuccess" path="voirCreerUser"
				redirect="false" />
		</action>
		<action path="/listerUser" scope="request"
			type="presentation.users.action.ListerUserAction">
			<forward name="success" path="listerUser" redirect="true"></forward>
		</action>

		<action path="/consulterUser" scope="request"
			type="presentation.users.action.ConsulterUserAction">
			<forward name="success" path="consulterUser" redirect="true"></forward>
		</action>

		<!-- Action de l'équipe Panier -->

		<action path="/afficherPanier" scope="request"
			type="presentation.panier.action.VoirPanierAction">
			<forward name="success" path="afficherPanier"
				redirect="false" />
		</action>

		<action path="/ajouterPanier" scope="request"
			type="presentation.panier.action.AjouterPanierAction">
			<forward name="pdt_00" path="listeProduitClient.do"
				redirect="true" />
			<forward name="pdt_01" path="listeProduitClient.do"
				redirect="true" />
			<forward name="pan_00" path="afficherPanier.do"
				redirect="true" />
		</action>

		<action path="/diminuerQuantite" scope="request"
			type="presentation.panier.action.DiminuerQteAction">
			<forward name="pan_00" path="afficherPanier.do"
				redirect="true" />
		</action>

		<action path="/supprimerPanier" scope="request"
			type="presentation.panier.action.SupprimerPanierAction">
			<forward name="success" path="afficherPanier.do"
				redirect="true" />
		</action>
		<action path="/voirValiderPanier" scope="request"
			type="presentation.panier.action.VoirValiderPanierAction">
			<forward name="success" path="panierAdresseClient"
				redirect="false" />
		</action>
		<action path="/validerPanier" scope="request"
			input="voirValiderPanier" parameter="" name="panierForm"
			type="presentation.panier.action.ValiderPanierAction">
			<forward name="success" path="/listerCommande.do"
				redirect="false"></forward>
		</action>

		<action path="/viderPanier" scope="request"
			type="presentation.panier.action.ViderPanierAction">
			<forward name="success" path="afficherPanier"
				redirect="false" />
		</action>

		<!-- Action de l'équipe Commande -->

		<action path="/listerCommande" scope="request"
			type="presentation.commande.action.ListerCommandeAction">
			<forward name="success" path="listerCommande"
				redirect="false"></forward>
		</action>

		<!-- Action de gestion image -->

		<action path="/afficherImage"
			type="presentation.image.action.AfficherImageAction">
		</action>

	</action-mappings>

	<message-resources parameter="messages/application"></message-resources>

	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config"
			value="/WEB-INF/tiles-defs.xml" />
		<set-property property="moduleAware" value="true" />
	</plug-in>

</struts-config>
